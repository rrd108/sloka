JSON.unflatten=function(e){"use strict";if(Object(e)!==e||Array.isArray(e))return e;var t,r,n,i,s,a={};for(var o in e){t=a,r="",i=0;do n=o.indexOf(".",i),s=o.substring(i,-1!==n?n:void 0),t=t[r]||(t[r]=isNaN(parseInt(s))?{}:[]),r=s,i=n+1;while(n>=0);t[r]=e[o]}return a[""]},JSON.flatten=function(e){function t(e,n){if(Object(e)!==e)r[n]=e;else if(Array.isArray(e)){for(var i=0,s=e.length;s>i;i++)t(e[i],n?n+"."+i:""+i);0==s&&(r[n]=[])}else{var a=!0;for(var o in e)a=!1,t(e[o],n?n+"."+o:o);a&&(r[n]={})}}var r={};return t(e,""),r},function(e){function t(t){return{get:function(e){e=e.split(".");var r=e.shift();try{if(e.length){for(var n=JSON.parse(t.getItem(r)),i=0;i<e.length;i++)n=n[e[i]];return n}return JSON.parse(t.getItem(r))}catch(s){return JSON.parse(t.getItem(r))}},_reset:function(r,n){var i;if(-1==r.search(/\./))i=r;else{var s=r.split(".");i=s.shift(),r=r.replace(i+".","");var a=JSON.flatten(JSON.parse(t.getItem(i))),o=a;e.each(a,function(e){e==r&&(o[r]=n)}),n=JSON.unflatten(o),t.setItem(i,n)}return t.setItem(i,JSON.stringify(n)),n},remove:function(e){e=e.split(".");var r=e.shift();if(e.length){for(var n=JSON.parse(t.getItem(r)),i=n[e[0]],s=1;s<e.length-1;s++)i=i[e[s]];e[s]?delete i[e[s]]:delete n[e[0]],this._reset(r,n)}else t.removeItem(r);return this.get(r)},set:function(e,t){if("object"==typeof t){var r=this.get(e);t=jQuery.extend(r,t)}return this._reset(e,t)}}}var r=new t(sessionStorage);e.sessionStorage=function(e,t){return"undefined"==typeof t?r.get(e):r.set(e,t)},e.sessionStorage.remove=function(e){return r.remove(e)};var n=new t(localStorage);e.localStorage=function(e,t){return"undefined"==typeof t?n.get(e):n.set(e,t)},e.localStorage.remove=function(e){return n.remove(e)}}(jQuery);